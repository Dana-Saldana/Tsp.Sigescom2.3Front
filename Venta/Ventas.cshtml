@{
    ViewBag.Title = "Registro de Ventas";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section scripts{
    <script src=@Url.Content("~/Scripts/controller/venta/ventaController.js")></script>
    <script src=@Url.Content("~/Scripts/controller/venta/registradorDetalles/registradorDetalles.js")></script>
    <script src=@Url.Content("~/Scripts/controller/concepto/registradorConceptoServicio/registradorConceptoServicio.js")></script>
    <script src=@Url.Content("~/Scripts/controller/concepto/selectorConceptoComercial/selectorConceptoComercial.js")></script>
    <script src=@Url.Content("~/Scripts/controller/almacen/registradorGuiaRemision/registradorGuiaRemision.js")></script>
    <script src=@Url.Content("~/Scripts/controller/venta/facturacionVenta/facturacionVenta.js")></script>
    <script src=@Url.Content("~/Scripts/controller/finanza/editorPago/editorPago.js")></script>
    <script src=@Url.Content("~/Scripts/controller/finanza/editorTrazaPago/editorTrazaPago.js")></script>
    <script src=@Url.Content("~/Scripts/controller/finanza/registradorFinanciamiento/registradorFinanciamiento.js")></script>
    <script src=@Url.Content("~/Scripts/controller/comprobante/selector/selectorComprobante.js")></script>
    <script src=@Url.Content("~/Scripts/controller/actorComercial/selectorActorComercial/selectorActorComercial.js")></script>
    <script src=@Url.Content("~/Scripts/controller/actorComercial/registradorActorComercial/registradorActorComercial.js")></script>

    <script>

        var aplicaLeyAmazonia = @ViewBag.AplicaLeyAmazonia.ToString().ToLower();
        var mostrarCodigoBarraBalanza = @ViewBag.MostrarCodigoBarraBalanza.ToString().ToLower();
        var cursorInicialEnCodigoBarra = @ViewBag.CursorInicialEnCodigoBarra.ToString().ToLower();
        var esVentaPorContingencia = @ViewBag.EsVentaPorContingencia.ToString().ToLower();
        var esVentaModoCajaAlmacen = @ViewBag.EsVentaModoCajaAlmacen.ToString().ToLower();
        var permitirRegistroAlmacenEnVentaPorMostradorIntegradoModoCaja = @ViewBag.PermitirRegistroAlmacenEnVentaPorMostradorIntegradoModoCaja.ToString().ToLower();
        var permitirRegistroDeGuiasDeRemision = @ViewBag.PermitirRegistroDeGuiasDeRemision.ToString().ToLower();
        var permitirRegistroConceptoServicio = @ViewBag.PermitirRegistroConceptoServicio.ToString().ToLower();
        var permitirRegistroFlete = @ViewBag.PermitirRegistroFlete.ToString().ToLower();
        var permitirRegistroPlaca = @ViewBag.PermitirRegistroPlaca.ToString().ToLower();
        var idClienteGenerico = @ViewBag.IdClienteGenerico;
        var idMedioDePagoEfectivo = @ViewBag.IdMedioDePagoEfectivo;
        var idTipoDocumentoFactura = @ViewBag.IdTipoDocumentoFactura;
        var esPregeneracionVenta = @ViewBag.EsPregeneracionVenta.ToString().ToLower();
        var idOrdenAPregenerar = @ViewBag.IdOrdenAPregenerar;
        var tipoOperacionAPregenerar = @ViewBag.TipoOperacionAPregenerar;
        var permitirEnvioPorWhatsApp = @ViewBag.PermitirEnvioPorWhatsApp.ToString().ToLower();
        var envioComprobantePostVenta = @ViewBag.EnvioComprobantePostVenta.ToString().ToLower();

    </script>

    @* Register the WebClientPrint script code generated by VentaController. *@
    @Html.Raw(ViewBag.WCPScript);
}

<div class="col-md-12" id="modelo" ng-controller="ventaController" ng-init="inicializar()">
    <div class="row">
        <div class="col-md-12">
            <div class="color-palette-set">
                <div class="bg-green color-palette">REGISTRO DE VENTA</div>
            </div>
        </div>
        @Html.Partial("_RegistroVentaPartial")
        <div class="col-md-12" style="margin-top:15px">
            <div class="pull-right">
                <button title="GUARDAR VENTA" class="btn btn-primary btn-md" ng-disabled="inconsistenciasVenta.length > 0 || !venta.esValido" ng-click="guardar()"><span class="glyphicon glyphicon-floppy-save"></span> GUARDAR VENTA</button>
            </div>
        </div>
    </div>
    @Html.Partial("_ModalPostVenta")
</div>