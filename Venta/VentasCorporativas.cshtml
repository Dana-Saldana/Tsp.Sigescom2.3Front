@{
    ViewBag.Title = "Registro de Ventas Corporativas";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section scripts{
    <script src=@Url.Content("~/Scripts/controller/venta/ventaController.js")></script>
    <script src=@Url.Content("~/Scripts/controller/venta/ventaCorporativaController.js")></script>
    <script src=@Url.Content("~/Scripts/controller/cliente/clienteController.js")></script>
    <script>
            var aplicaLeyAmazonia = @ViewBag.aplicaLeyAmazonia.ToString().ToLower();
            var tasaIGV = @ViewBag.tasaIGV;
            var idMedioDePagoEfectivo = @ViewBag.idMedioDePagoEfectivo;
                   var idTipoActorPersonaNatural = @ViewBag.idTipoActorPersonaNatural;
            var ventasSujetasADisponibilidadStock = @ViewBag.ventasSujetasADisponibilidadStock.ToString().ToLower();
            var idTipoActorPersonaJuridica =@ViewBag.idTipoActorPersonaJuridica;
            var precioContieneIgv = @ViewBag.aplicaLeyAmazonia.ToString().ToLower();
            var idClienteGenerico = @ViewBag.idClienteGenerico;
            var idTipoDocumentoCuandoClienteEsGenerico = @ViewBag.idTipoDocumentoCuandoClienteEsGenerico;
            var idTipoDocumentoPorDefectoParaVenta = @ViewBag.idTipoDocumentoPorDefectoParaVenta;
            var mostrarAliasDeClienteGenerico = @ViewBag.mostrarAliasDeClienteGenerico.ToString().ToLower();
            var precioUnitarioCalculadoVenta = @ViewBag.precioUnitarioCalculadoVenta.ToString().ToLower();
            var mostrarDetalleUnificado = @ViewBag.mostrarDetalleUnificado.ToString().ToLower();
            var checketDetalleUnificado  = @ViewBag.checketDetalleUnificado.ToString().ToLower();
            var valorDetalleUnificado = '@ViewBag.valorDetalleUnificado';
            var aplicarCantidadPorDefectoEnVentas = @ViewBag.aplicarCantidadPorDefectoEnVentas.ToString().ToLower();
            var cantidadPorDefectoEnVentas = '@ViewBag.cantidadPorDefectoEnVentas';
            var fechaHoraInicio = '@ViewBag.fechaHoraInicio';
            var fechaHoraFin = '@ViewBag.fechaHoraFin';
            var idTipoPersonaSeleccionadaPorDefecto = @ViewBag.idTipoPersonaSeleccionadaPorDefecto;
            var idTipoDocumentoSeleccionadaConTipoPersonaNatural = @ViewBag.idTipoDocumentoSeleccionadaConTipoPersonaNatural;
            var idTipoDocumentoSeleccionadaConTipoPersonaJuridica = @ViewBag.idTipoDocumentoSeleccionadaConTipoPersonaJuridica;
            var precioUnitarioIngresadoVenta = @ViewBag.precioUnitarioIngresadoVenta.ToString().ToLower();
            var idTipoDocumentoIdentidadDni = @ViewBag.idTipoDocumentoIdentidadDni;
            var idTipoDocumentoIdentidadRuc = @ViewBag.idTipoDocumentoIdentidadRuc;
            var idDetalleMaestroCatalogoDocumentoBoleta = @ViewBag.idDetalleMaestroCatalogoDocumentoBoleta;
            var montoMaximoAVenderCuandoClienteNoEstaIdenticicado = @ViewBag.montoMaximoAVenderCuandoClienteNoEstaIdenticicado;
            var permitirVentaAlCredito = @ViewBag.permitirVentaAlCredito.ToString().ToLower();
            var permitirVentaConFechaPasada = @ViewBag.permitirVentaConFechaPasada.ToString().ToLower();
            var fechaActual = '@ViewBag.fechaActual';
            var permitirRegistroFlete = @ViewBag.permitirRegistroFlete.ToString().ToLower();
            var idUbigeoSeleccionadoPorDefecto = @ViewBag.idUbigeoSeleccionadoPorDefecto;
            var idUbigeoNoEspecificado = @ViewBag.idUbigeoNoEspecificado;
            var modoIngresoCodigoBarra = @ViewBag.modoIngresoCodigoBarraEnVenta;
            var cursorPorDefectoCodigoBarra = @ViewBag.cursorPorDefectoCodigoBarraEnVenta;

            var idEstablecimientoComercialPorDefecto = @ViewBag.idEstablecimientoComercialPorDefecto;
            var idCentroAtencionPorDefecto = @ViewBag.idCentroAtencionPorDefecto;
            var idEmpleadoPorDefecto = @ViewBag.idEmpleadoPorDefecto;
            var idDetalleMaestroMedioDePagoEfectivo = @ViewBag.idDetalleMaestroMedioDePagoEfectivo;
            var idDetalleMaestroEntidadBancariaNinguna = @ViewBag.idDetalleMaestroEntidadBancariaNinguna;
            var idDocumentoNotaAlamacenInterna = @ViewBag.idDocumentoNotaAlamacenInterna;
            var direccionSede = '@ViewBag.direccionSede';
            var idModalidadTrasladoPorDefecto = @ViewBag.idModalidadTrasladoPorDefecto;
            var idMotivoTrasladoPorDefecto = @ViewBag.idMotivoTrasladoPorDefecto;
            var idConceptoBasicoBolsaPlastica = @ViewBag.idConceptoBasicoBolsaPlastica;
            var numeroDecimalesEnCantidad = @ViewBag.numeroDecimalesEnCantidad;
            var numeroDecimalesEnPrecio = @ViewBag.numeroDecimalesEnPrecio;*@

    </script>
    @* Register the WebClientPrint script code generated by DemoPrintFileController. *@
    @Html.Raw(ViewBag.WCPScript);
}
<div class="col-md-12" id="venta" ng-controller="ventaController" ng-init="inicializar()">
    <div class="row" ng-controller="ventaCorporativaController" ng-init="inicializarVentaCorporativa()">
        <div class="col-md-12">
            <div class="color-palette-set">
                <div class="bg-green color-palette">REGISTRO DE VENTA CORPORATIVA</div>
            </div>
        </div>
        @Html.Partial("_RegistroVentaPartial")
        <div class="col-md-12">
            <div class="pull-right">
                <button class="btn btn-md btn-primary" title="CONFIRMAR" ng-disabled="!logicaValida" ng-click="inicializarTrazaDePago()" data-toggle="modal" data-target="#modal-registro-traza-ingreso-dinero"><span class="glyphicon glyphicon-floppy-disk"></span> CONFIRMAR</button>
            </div>
            <div class="pull-right" style="margin-right:15px">
                <button class="btn btn-md btn-primary" title="REGISTAR" ng-disabled="!logicaValida" ng-click="registarCompra()"><span class="glyphicon glyphicon-check"></span> REGISTAR</button>
            </div>
        </div>
        @Html.Partial("../Compra/_ModalRegistroFinanciamientoPartial")
        @Html.Partial("../Compra/_ModalReiniciarFinanciamiento")
        @Html.Partial("_ModalRegistroTrazaDeIngresoDeDinero")
        @Html.Partial("_ModalRegistroSalidaDeMercaderia")
    </div>
</div>
